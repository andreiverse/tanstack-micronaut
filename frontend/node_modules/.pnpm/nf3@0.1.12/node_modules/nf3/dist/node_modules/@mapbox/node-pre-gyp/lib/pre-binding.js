"use strict";const npg=require(`..`),versioning=require(`../lib/util/versioning.js`),napi=require(`../lib/util/napi.js`),existsSync=require(`fs`).existsSync||require(`path`).existsSync,path=require(`path`);module.exports=exports,exports.usage=`Finds the require path for the node-pre-gyp installed module`,exports.validate=function(e,i){versioning.validate_config(e,i)},exports.find=function(a,o){if(!existsSync(a))throw Error(a+`does not exist`);let s=new npg.Run({package_json_path:a,argv:process.argv});s.setBinaryHostProperty();let c=s.package_json;versioning.validate_config(c,o);let l;return napi.get_napi_build_versions(c,o)&&(l=napi.get_best_napi_build_version(c,o)),o||={},o.module_root||=path.dirname(a),versioning.evaluate(c,o,l).module};