"use strict";const SemVer=require(`../classes/semver`),Range=require(`../classes/range`),gt=require(`../functions/gt`),minVersion=(r,i)=>{r=new Range(r,i);let a=new SemVer(`0.0.0`);if(r.test(a)||(a=new SemVer(`0.0.0-0`),r.test(a)))return a;a=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],o=null;i.forEach(n=>{let r=new SemVer(n.semver.version);switch(n.operator){case`>`:r.prerelease.length===0?r.patch++:r.prerelease.push(0),r.raw=r.format();case``:case`>=`:(!o||gt(r,o))&&(o=r);break;case`<`:case`<=`:break;default:throw Error(`Unexpected operation: ${n.operator}`)}}),o&&(!a||gt(a,o))&&(a=o)}return a&&r.test(a)?a:null};module.exports=minVersion;