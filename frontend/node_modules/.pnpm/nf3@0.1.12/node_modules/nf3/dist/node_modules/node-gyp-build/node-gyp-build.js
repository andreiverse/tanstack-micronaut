var fs=require(`fs`),path=require(`path`),os=require(`os`),runtimeRequire=typeof __webpack_require__==`function`?__non_webpack_require__:require,vars=process.config&&process.config.variables||{},prebuildsOnly=!!process.env.PREBUILDS_ONLY,abi=process.versions.modules,runtime=isElectron()?`electron`:isNwjs()?`node-webkit`:`node`,arch=process.env.npm_config_arch||os.arch(),platform=process.env.npm_config_platform||os.platform(),libc=process.env.LIBC||(isAlpine(platform)?`musl`:`glibc`),armv=process.env.ARM_VERSION||(arch===`arm64`?`8`:vars.arm_version)||``,uv=(process.versions.uv||``).split(`.`)[0];module.exports=load;function load(t){return runtimeRequire(load.resolve(t))}load.resolve=load.path=function(t){t=path.resolve(t||`.`);try{var v=runtimeRequire(path.join(t,`package.json`)).name.toUpperCase().replace(/-/g,`_`);process.env[v+`_PREBUILD`]&&(t=process.env[v+`_PREBUILD`])}catch{}if(!prebuildsOnly){var b=getFirst(path.join(t,`build/Release`),matchBuild);if(b)return b;var S=getFirst(path.join(t,`build/Debug`),matchBuild);if(S)return S}var C=E(t);if(C)return C;var w=E(path.dirname(process.execPath));if(w)return w;var T=[`platform=`+platform,`arch=`+arch,`runtime=`+runtime,`abi=`+abi,`uv=`+uv,armv?`armv=`+armv:``,`libc=`+libc,`node=`+process.versions.node,process.versions.electron?`electron=`+process.versions.electron:``,typeof __webpack_require__==`function`?`webpack=true`:``].filter(Boolean).join(` `);throw Error(`No native build was found for `+T+`
    loaded from: `+t+`
`);function E(t){var v=readdirSync(path.join(t,`prebuilds`)).map(parseTuple).filter(matchTuple(platform,arch)).sort(compareTuples)[0];if(v){var y=path.join(t,`prebuilds`,v.name),b=readdirSync(y).map(parseTags).filter(matchTags(runtime,abi)).sort(compareTags(runtime))[0];if(b)return path.join(y,b.file)}}};function readdirSync(_){try{return fs.readdirSync(_)}catch{return[]}}function getFirst(t,v){var y=readdirSync(t).filter(v);return y[0]&&path.join(t,y[0])}function matchBuild(t){return/\.node$/.test(t)}function parseTuple(t){var _=t.split(`-`);if(_.length===2){var v=_[0],y=_[1].split(`+`);if(v&&y.length&&y.every(Boolean))return{name:t,platform:v,architectures:y}}}function matchTuple(t,_){return function(v){return v==null||v.platform!==t?!1:v.architectures.includes(_)}}function compareTuples(t,_){return t.architectures.length-_.architectures.length}function parseTags(t){var _=t.split(`.`),v=_.pop(),y={file:t,specificity:0};if(v===`node`){for(var b=0;b<_.length;b++){var x=_[b];if(x===`node`||x===`electron`||x===`node-webkit`)y.runtime=x;else if(x===`napi`)y.napi=!0;else if(x.slice(0,3)===`abi`)y.abi=x.slice(3);else if(x.slice(0,2)===`uv`)y.uv=x.slice(2);else if(x.slice(0,4)===`armv`)y.armv=x.slice(4);else if(x===`glibc`||x===`musl`)y.libc=x;else continue;y.specificity++}return y}}function matchTags(t,_){return function(v){return!(v==null||v.runtime&&v.runtime!==t&&!runtimeAgnostic(v)||v.abi&&v.abi!==_&&!v.napi||v.uv&&v.uv!==uv||v.armv&&v.armv!==armv||v.libc&&v.libc!==libc)}}function runtimeAgnostic(t){return t.runtime===`node`&&t.napi}function compareTags(t){return function(_,v){return _.runtime===v.runtime?_.abi===v.abi?_.specificity===v.specificity?0:_.specificity>v.specificity?-1:1:_.abi?-1:1:_.runtime===t?-1:1}}function isNwjs(){return!!(process.versions&&process.versions.nw)}function isElectron(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<`u`&&window.process&&window.process.type===`renderer`}function isAlpine(_){return _===`linux`&&fs.existsSync(`/etc/alpine-release`)}load.parseTags=parseTags,load.matchTags=matchTags,load.compareTags=compareTags,load.parseTuple=parseTuple,load.matchTuple=matchTuple,load.compareTuples=compareTuples;